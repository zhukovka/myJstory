<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Streams</title>
    <link rel="stylesheet" href="../styles/style.css">
    <script src="../speechStream.js"></script>
    <script src="../TranslitStream.js"></script>
    <script src="../FetchImageStream.js" type="module"></script>
    <link rel="stylesheet" href="../highlight/styles/default.css">
    <link rel="stylesheet" href="../highlight/styles/atom-one-light.css">
    <script src="../highlight/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
</head>
<body>
<main class="flex flex-center" id="slidesContainer">
    <section class="center slide">
        <h1>Streams</h1>
    </section>
    <!----------------------ðŸ‘‡-------------------------------->
    <section class="slide" style="display: none" id="slide0">
        <p>Readable / Writable streams</p>
        <pre class="codeSample flex flex-center" style="width: 100%">
<code class="hljs js" id="code0">
new <b>ReadableStream</b>({
  <span class="blue">start(controller)</span> {
    recognition.onresult =
        e => {controller.enqueue(e.result)}
  },
  <span class="blue">cancel()</span> {
    // This is called if the reader cancels
  }
});
</code>
         </pre>
    </section>
    <!--1-->
    <section class="slide" style="display: none">
        <p>Readable / Writable streams</p>
        <pre class="codeSample flex flex-center" style="width: 100%">
<code class="hljs js">
new ReadableStream();
</code>
         </pre>
    </section>
    <!--2-->
    <section class="slide" style="display: none">
        <p>Readable / Writable streams</p>
        <pre class="codeSample flex flex-center" style="width: 100%">
<code class="hljs js">
new ReadableStream({
  start(controller) {
    // SpeechRecognition
    recognition.onresult = e => {<span class="highlight">controller.enqueue(e.result)</span>}
  }
});
</code>
         </pre>
    </section>
    <!--3-->
    <section class="slide" style="display: none">
        <p>Readable / Writable streams</p>
        <pre class="codeSample flex flex-center" style="width: 100%">
<code class="hljs js">
new ReadableStream({
  start(controller) {
    recognition.onresult = e => {controller.enqueue(e.result)}
  },
  <span class="highlight">cancel()</span> {
    // This is called if the reader cancels
  }
});
</code>
         </pre>
    </section>
    <!--4-->
    <section class="slide" style="display: none">
        <p>Readable / Writable streams</p>
        <pre class="codeSample flex flex-center" style="width: 100%">
<code class="hljs js">
const <span class="highlight">speech</span> = new ReadableStream({...});
</code>
         </pre>
    </section>
    <!--5-->
    <section class="slide" style="display: none">
        <p>Readable / Writable streams</p>
        <pre class="codeSample flex flex-center" style="width: 100%">
<code class="hljs js">
    speech
            .pipeThrough({
                writable: new WritableStream(new TranslitWrite(translitter)),
                readable: new ReadableStream(new TranslitRead(translitter))
            })
            .pipeThrough(new FetchImageStream())
            .pipeTo(new WritableStream(new ImageDestination(slide)));
</code>
         </pre>
    </section>

    <!----------------------------------------------------->
    <section class="slide" style="display: none" id="slide1">
        <p>Readable with async iterators</p>
        <pre class="codeSample flex flex-center" style="width: 100%">
<code class="hljs js" id="code1">
const iterable = {
    const reader = stream.getReader();
    return {
        next () { return reader.read(); },
        ...
        [Symbol.asyncIterator] () { return this; }
    }
}
for await (const item of iterable){
    //do what you want with stream data
}
</code>
         </pre>
    </section>
    <section class="slide" style="display: none" id="slide2">
        <p>Readable with async iterators</p>
        <pre class="codeSample flex flex-center" style="width: 100%">
<code class="hljs js" id="code2">
const iterable = {
    const <span class="highlight">reader = stream.getReader()</span>;
    return {
        next () { return reader.read(); },
        ...
        [Symbol.asyncIterator] () { return this; }
    }
}
for await (const item of iterable){
    //do what you want with stream data
}
</code>
         </pre>
    </section>
    <section class="slide" style="display: none" id="slide3">
        <p>Readable with async iterators</p>
        <pre class="codeSample flex flex-center" style="width: 100%">
<code class="hljs js" id="code3">
const iterable = {
    const reader = stream.getReader();
    return {
        next () { return <span class="highlight">reader.read()</span>; },
        ...
        [Symbol.asyncIterator] () { return this; }
    }
}
for await (const item of iterable){
    //do what you want with stream data
}
</code>
         </pre>
    </section>
    <section class="slide" style="display: none" id="slide4">
        <p>Readable with async iterators</p>
        <pre class="codeSample flex flex-center" style="width: 100%">
<code class="hljs js" id="code4">
const iterable = {
    const reader = stream.getReader();
    return {
        next () { return reader.read(); },
        ...
        <span class="highlight">[Symbol.asyncIterator] () { return this; }</span>
    }
}
for await (const item of iterable){
    //do what you want with stream data
}
</code>
         </pre>
    </section>
    <section class="slide" style="display: none" id="slide5">
        <p>Readable with async iterators</p>
        <pre class="codeSample flex flex-center" style="width: 100%">
<code class="hljs js" id="code5">
const iterable = {
    const reader = stream.getReader();
    return {
        next () { return reader.read(); },
        ...
        [Symbol.asyncIterator] () { return this; }
    }
}
<span class="highlight">for await (const item of iterable)</span>{
    //do what you want with stream data
}
</code>
         </pre>
    </section>
    <section class="slide" style="display: none">
        <p>Readable / Writable streams</p>
        <pre class="codeSample flex flex-center" style="width: 100%">
<code class="hljs js">
new ReadableStream({
  start(controller) {...},
  <span class="highlight">cancel()</span> {
    // This is called if the reader cancels
  }
});
</code>
         </pre>
    </section>
</main>
<a href="../es2018/index.html" id="next">Next</a>
<script src="streams.js"></script>
<script src="../index.js"></script>
<script src="../index1.js"></script>
</body>
</html>